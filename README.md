# labsforBASE
Лабораторные работы по Базам Данных  
Костюк Иван 02261-ДБ  
Вариант 20. Зарплата
Постановка задачи: Расчет заработной платы предприятия
1. Описание предметной области:
Система предназначена для автоматизации расчета ежемесячной заработной платы сотрудников предприятия, организованных в отделы. Расчет основывается на тарифной сетке (ставка за час) и данных об отработанном времени.

2. Перечень сущностей и их атрибутов (на основе ER-диаграммы):

ОТДЕЛЫ (departments)

id (PK) — Уникальный идентификатор отдела.

название (VARCHAR) — Наименование отдела.

СОТРУДНИКИ (employees)

id (PK) — Уникальный идентификатор сотрудника (внутренний).

табельный_номер (INT) — Уникальный табельный номер сотрудника.

фамилия (VARCHAR) — Фамилия сотрудника.

имя (VARCHAR) — Имя сотрудника.

отчество (VARCHAR) — Отчество сотрудника.

должность (VARCHAR) — Должность сотрудника (логически связана с ТАРИФНАЯ_СЕТКА.должность).

разряд (INT) — Разряд сотрудника (логически связан с ТАРИФНАЯ_СЕТКА.разряд).

id_отдела (FK -> ОТДЕЛЫ.id) — Идентификатор отдела, в котором работает сотрудник.

ТАРИФНАЯ_СЕТКА (pay_scales)

id (PK) — Уникальный идентификатор записи в тарифной сетке.

должность (VARCHAR) — Наименование должности.

разряд (INT) — Разряд (от 7 до 15).

ставка_руб_час (DECIMAL) — Часовая тарифная ставка для данной должности и разряда.

ТАБЕЛЬ (timesheets)

id (PK) — Уникальный идентификатор записи в табеле.

id_сотрудника (FK -> СОТРУДНИКИ.id) — Идентификатор сотрудника.

год (INT) — Год отчетного периода.

месяц (INT) — Месяц отчетного периода.

отработано_часов (DECIMAL) — Количество часов, отработанных сотрудником в указанном месяце.

3. Связи между сущностями (Relationships):

РАБОТАЕТ (рабочее место): Связь между СОТРУДНИКИ и ОТДЕЛЫ. Один сотрудник работает только в одном отделе (id_отдела). В одном отделе может работать много сотрудников. (1:N).

ИМЕЕТ_ТАРИФ: Связь между СОТРУДНИКИ и ТАРИФНАЯ_СЕТКА. Ставка сотрудника определяется парой атрибутов (должность, разряд), которые должны существовать в тарифной сетке. Это логическая связь по атрибутам.

ИМЕЕТ_ЗАПИСИ (табель учета): Связь между СОТРУДНИКИ и ТАБЕЛЬ. На одного сотрудника ежемесячно заводится одна запись в табеле (за конкретный год и месяц). Для одного сотрудника набирается много записей за разные периоды. (1:N).

4. Основные бизнес-процессы:

Управление справочниками: Ведение списка отделов и тарифной сетки.

Управление кадрами: Ведение списка сотрудников, их привязка к отделам и назначение должности/разряда.

Учет рабочего времени: Ежемесячное заполнение табеля учета рабочего времени для каждого сотрудника.

Расчет заработной платы: Автоматический расчет суммы к выплате для каждого сотрудника за период по формуле:
Зарплата = (Ставка_сотрудника) * (Отработано_часов)
где Ставка_сотрудника определяется поиском в ТАРИФНАЯ_СЕТКА по его должности и разряду.

5. Требуемые выходные документы (отчеты):

Расчетная ведомость за период: Список для выдачи зарплаты сотрудникам за указанный месяц и год. Должен содержать: отдел, табельный номер, ФИО, должность, разряд, часовую ставку, количество отработанных часов, сумму к выплате. Упорядочить по отделам, а внутри отдела — по ФИО сотрудника.

Сводка по квалификации отделов: Аналитический отчет, показывающий распределение сотрудников по разрядам в разрезе отделов. Должен содержать: название отдела, разряд, количество сотрудников данного разряда в отделе. Упорядочить по названию отдела.
## ER-диаграмма
<img width="726" height="437" alt="Снимок" src="https://github.com/user-attachments/assets/0944bf4b-bc37-4687-892f-3c3096337fc4" />




## Логическая модель по диаграмме
Сущность "Отделы"
Ключевой атрибут:

id_отдела (INTEGER, PK, уникальный идентификатор, NOT NULL, AUTO_INCREMENT)

Описательные атрибуты:

название_отдела (VARCHAR(100), обязательный, NOT NULL, UNIQUE)

Ограничения:

Длина названия отдела: от 2 до 100 символов

Название отдела должно быть уникальным в системе

Сущность "Тарифная_сетка"
Ключевой атрибут:

Составной ключ: (должность, разряд), NOT NULL

Описательные атрибуты:

должность (VARCHAR(100), обязательный, NOT NULL)

разряд (INTEGER, обязательный, NOT NULL, диапазон: от 7 до 15)

ставка_руб_час (DECIMAL(10,2), обязательный, NOT NULL, > 0)

Ограничения:

Комбинация должность+разряд уникальна

Разряд соответствует ЕТКС (от 7 до 15)

Ставка не может быть ниже МРОТ/часов в месяце

Сущность "Сотрудники"
Ключевой атрибут:

табельный_номер (INTEGER, PK, уникальный идентификатор, NOT NULL, UNIQUE, 6 цифр)

Описательные атрибуты:

фамилия (VARCHAR(50), обязательный, NOT NULL)

имя (VARCHAR(50), обязательный, NOT NULL)

отчество (VARCHAR(50), обязательный, NOT NULL)

должность (VARCHAR(100), обязательный, NOT NULL)

разряд (INTEGER, обязательный, NOT NULL, диапазон: от 7 до 15)

Атрибуты-связи:

id_отдела (INTEGER, FK, внешний ключ к сущности "Отделы", обязательный, NOT NULL, REFERENCES Отделы.id_отдела)

Ограничения:

Сотрудник должен принадлежать к существующему отделу

Должность и разряд сотрудника должны существовать в Тарифной_сетке

ФИО: только кириллические символы

Табельный номер: формат 000001-999999

Сущность "Табель"
Ключевой атрибут:

id_записи (INTEGER, PK, уникальный идентификатор, NOT NULL, AUTO_INCREMENT)

Описательные атрибуты:

год (INTEGER, обязательный, NOT NULL, диапазон: от 2000 до текущего+1)

месяц (INTEGER, обязательный, NOT NULL, диапазон: от 1 до 12)

отработано_часов (DECIMAL(6,2), обязательный, NOT NULL, диапазон: от 0 до 300)

Атрибуты-связи:

табельный_номер (INTEGER, FK, внешний ключ к сущности "Сотрудники", обязательный, NOT NULL, REFERENCES Сотрудники.табельный_номер)
